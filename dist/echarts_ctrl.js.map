{"version":3,"sources":["../src/echarts_ctrl.js"],"names":["PanelCtrl","moment","_","rendering","EchartsCtrl","$scope","$injector","$rootScope","data","updateClock","events","on","onRender","bind","onDataReceived","console","log","chartType","xAxis","yAxis","legend","dataList","render","time","format","$timeout","scope","elem","attrs","ctrl","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,e,kBAAAA,S;;AACDC,Y;;AACAC,O;;AACAC,e;;;;;;;;;;;;;;;;;;;;;6BAEMC,W;;;AACX,6BAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,UAA/B,EAA2C;AAAA;;AAAA,gIACnCF,MADmC,EAC3BC,SAD2B;;AAEzC,gBAAKC,UAAL,GAAkBA,UAAlB;AACA,gBAAKC,IAAL,GAAY,EAAZ;;AAEA,gBAAKC,WAAL;AACA;AACA,gBAAKC,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,MAAKC,QAAL,CAAcC,IAAd,OAAzB;AACA,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,eAAf,EAAgC,MAAKG,cAAL,CAAoBD,IAApB,OAAhC;AARyC;AAS1C;;;;qCAGS;AACRE,oBAAQC,GAAR,CAAY,aAAZ;AACA,iBAAKR,IAAL,CAAUS,SAAV,GAAsB,MAAtB;AACA,iBAAKT,IAAL,CAAUU,KAAV,GAAkB,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E,CAAlB;AACA,iBAAKV,IAAL,CAAUW,KAAV,GAAkB,CACrB,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,EAAd,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,CADqB,EAErB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,CAArC,EAAwC,CAAxC,CAFqB,EAGrB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,EAAlC,EAAsC,CAAtC,EAAyC,CAAzC,CAHqB,EAIrB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,EAAlC,EAAsC,EAAtC,EAA0C,EAA1C,CAJqB,CAAlB;AAMA,iBAAKX,IAAL,CAAUY,MAAV,GAAmB,CAAC,IAAD,EAAO,IAAP,EAAY,IAAZ,EAAiB,IAAjB,CAAnB;AACD;;;yCAEcC,Q,EAAU;AACvB;AACA;AACAN,oBAAQC,GAAR,CAAY,cAAZ;AACA,iBAAKM,MAAL,CAAY,KAAKd,IAAjB;AACD;;;wCAEa;AAAA;;AACZ,iBAAKe,IAAL,GAAYtB,SAASuB,MAAT,CAAgB,UAAhB,CAAZ;AACA,iBAAKC,QAAL,CAAc,YAAM;AAAE,qBAAKhB,WAAL;AAAqB,aAA3C,EAA6C,IAA7C;AACD;;;+BACIiB,K,EAAOC,I,EAAMC,K,EAAOC,I,EAAK;AAC/B1B,sBAAUuB,KAAV,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,IAA9B;AACE;;;;QAvC8B7B,S;;;;AA0CjCI,kBAAY0B,WAAZ,GAA0B,aAA1B","file":"echarts_ctrl.js","sourcesContent":["import {PanelCtrl} from 'app/plugins/sdk';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport rendering from './rendering';\n\nexport class EchartsCtrl extends PanelCtrl {\n  constructor($scope, $injector, $rootScope) {\n    super($scope, $injector);\n    this.$rootScope = $rootScope;\n    this.data = {};\n\n    this.updateClock();\n    //_.defaults(this.panel, panelDefaults);\n    this.events.on('render', this.onRender.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n  }\n \n  \n  onRender(){\n    console.log(\"data render\");\n    this.data.chartType = \"line\";\n    this.data.xAxis = ['Jan', 'Feb', 'Mar', 'Apr', 'Mar', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    this.data.yAxis = [\n\t[-1, 1, 3, 7, 13, 16, 18, 16, 15, 9, 4, 2],\n\t[0, 1, 4, 7, 12, 15, 16, 15, 15, 10, 6, 5],\n\t[4, 4, 5, 10, 16, 22, 25, 24, 20, 14, 9, 3],\n\t[7, 6, 8, 14, 17, 22, 25, 27, 24, 17, 14, 10]\n    ];\n    this.data.legend = [\"柏林\", \"伦敦\",'纽约','东京'];\n  }\n\n  onDataReceived(dataList) {\n    //this.series = dataList.map(this.seriesHandler.bind(this));\n    //this.data = this.parseSeries(this.series);\n    console.log(\"data receive\");\n    this.render(this.data);\n  }\n\n  updateClock() {\n    this.time = moment().format('hh:mm:ss');\n    this.$timeout(() => { this.updateClock(); }, 1000);\n  }\n  link(scope, elem, attrs, ctrl){\n\trendering(scope, elem, attrs, ctrl);\n  }\n}\n\nEchartsCtrl.templateUrl = 'module.html';\n"]}